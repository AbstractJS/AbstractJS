!function(a){"use strict";NodeList.prototype.forEach=Array.prototype.forEach,a.x=function(){return{methods:{},controllers:{},core:{randomString:function(){return"randomString"},parsers:{}}}}()}(this),function(a){"use strict";a.core.addController=function(b,c){return void 0===a.controllers[b]&&(a.controllers[b]=new a.Controller(b,c)),a.controllers[b]}}(this.x),function(a){"use strict";a.core.addParser=function(b,c){-1!=b.indexOf(".")?(b=b.split("."),a.core.parsers[b[0]]||(a.core.parsers[b[0]]={}),a.core.parsers[b[0]][b[1]]=c):a.core.parsers[b]=c}}(this.x),function(a){"use strict";a.core.ajax=function(b){var c=b.callback||function(){return!1},d=b.url,e=b.method||"GET",f=b.data||!1,g;if("undefined"!=typeof XMLHttpRequest)g=new XMLHttpRequest;else for(var h=["MSXML2.XmlHttp.5.0","MSXML2.XmlHttp.4.0","MSXML2.XmlHttp.3.0","MSXML2.XmlHttp.2.0","Microsoft.XmlHttp"],i=0,j=h.length;j>i;i++)try{g=new ActiveXObject(h[i]);break}catch(k){}g.onreadystatechange=l;function l(){g.readyState<4||200===g.status&&4===g.readyState&&c(g.response)}g.open(e,d,!0),"POST"==e.toUpperCase()?(g.setRequestHeader("Content-type","application/x-www-form-urlencoded"),f=a.core.serialize(f),g.send(f)):g.send("")}}(this.x),function(a){"use strict";a.core.parse=function(){if("string"==typeof arguments[0])c(arguments[0],arguments[1],arguments[2]);else{var b=document.querySelectorAll("[x-controller]");b.forEach(function(b,e){var f=a.core.parsers["x-controller"](b);for(var g in a.core.parsers)"function"==typeof a.core.parsers[g]?d(g,a.core.parsers[g],b,f):c(g,b,f)})}function c(b,c,e){for(var f in a.core.parsers[b])d(f,a.core.parsers[b][f],c,e)}function d(a,b,c,d){if("x-controller"!=b){var e=c.querySelectorAll("["+a+"]");e.forEach(function(a){b(a,d)})}}}}(this.x),function(a){"use strict";a.core.serialize=function(a){var b="";for(var c in a)b+=c+"="+a[c];a=encodeURI(a)}}(this.x),function(a){"use strict";a.core.addParser("x-ajax",function(b,c){var d=b.getAttribute("x-ajax");if("FORM"==b.tagName.toUpperCase()){if(b.getAttribute("x-model")){var e=b.getAttribute("x-model");c[e]?c[e].appendDom(b):c.appendModel(new a.Model(c,b))}b.addEventListener("submit",function(c){c.preventDefault(),a.core.ajax({method:b.getAttribute("method"),url:b.getAttribute("action"),callback:function(){console.log("TODO : Simple ajax return ")}})})}})}(this.x),function(a){"use strict";a.core.addParser("x-content",function(b,c){var d=b.getAttribute("x-content"),e=b.getAttribute("x-collection")||a.core.randomString(),f=b.innerHTML,g="data",h="",i=f.match(/\{\{.*\}\}/g);a.core.ajax({url:d,callback:function(d){d=JSON.parse(d),c[e]=d[g],d[g].forEach(function(a,b){var c=f;for(var d in i){var e=i[d].replace("{{","").replace("}}","");c=c.replace(i[d],j(e,a))}h+=c}),b.innerHTML=h,a.core.parse("events",b,c)}});function j(a,b){var c="";if(a.indexOf(".")>0)return c=a.split("."),a=a.replace(c[0]+".",""),j(a,b[c[0]]);if(a.indexOf("][")>0)c=a.split("]["),console.log(c);else{if(!(a.indexOf("[")>0))return b[a];c=a.split("["),console.log(c)}}})}(this.x),function(a){"use strict";a.core.addParser("x-controller",function(b){var c=b.getAttribute("x-controller");return a.core.addController(c,b)})}(this.x),function(a){"use strict";a.core.addParser("events.x-click",function(a,b){var c=a.getAttribute("x-click"),d=c.match(/\(.*\)/g)[0].replace("(","").replace(")","").split(",");for(var e in d)-1!=d[e].indexOf("function")||("'"!=d[e][0]&&'"'!=d[e][0]&&"["!=d[e][0]?d[e]=parseInt(d[e]):("'"==d[e][0]||'"'==d[e][0])&&(d[e]=d[e].replace('"',"").replace("'","").replace('"',"").replace("'","").replace('"',"").replace("'","")));c=c.match(/.*\(/g)[0].replace("(",""),a.addEventListener("click",function(){console.log(b),b[c].apply(b,d)})}),a.core.addParser("events.x-mouseover",function(a,b){var c=a.getAttribute("x-mouseover"),d=c.match(/\(.*\)/g)[0].replace("(","").replace(")","").split(",");for(var e in d)-1!=d[e].indexOf("function")||("'"!=d[e][0]&&'"'!=d[e][0]&&"["!=d[e][0]?d[e]=parseInt(d[e]):("'"==d[e][0]||'"'==d[e][0])&&(d[e]=d[e].replace('"',"").replace("'","").replace('"',"").replace("'","").replace('"',"").replace("'","")));c=c.match(/.*\(/g)[0].replace("(",""),a.addEventListener("mouseover",function(){console.log(b),b[c].apply(b,d)})})}(this.x),function(a){"use strict";a.Collection=function(){}}(this.x),function(a){"use strict";a.Controller=function(b,c){return arguments[1].tagName||"API_CALL"==arguments[1]?(this.htmlElement=c,this.controllerName=b,{appendModel:function(a){this[a.getModelName()]=a}}):(void 0===a.controllers[b]&&(a.controllers[b]=new a.Controller(b,"API_CALL")),arguments[1][arguments[1].length-1].call(a.controllers[b]),a.controllers[b])}}(this.x),function(a){"use strict";a.Model=function(a,b){var c=this,d={},e=b.getAttribute("x-model"),f=[b],g=function(){var a=b.getElementsByTagName("input"),c={};for(var e in a)if("object"==typeof a[e]){var f=a[e].getAttribute("name");c[f]=a[e].value,a[e].addEventListener("keypress",h),a[e].addEventListener("change",h)}return i(d,c)},h=function(a){var b=a.target,c=b.getAttribute("name"),e=b.value;d[c]=e,j(d)},i=function(a,b){for(var c in b)a[c]=b[c];return a},j=function(a){for(var b in a)k(b,a[b])},k=function(a,b){f.forEach(function(c){c.querySelectorAll('[name="'+a+'"]').forEach(function(a,c){a.value=b})})},l=function(){return i(g(),d),n},m=function(a){return j(a),a};l();var n=this;return{appendDom:function(a){f.push(a)},getModelName:function(){return e},getData:function(){var a={};return a[e]=d,a},edit:function(a){return m(a)}}}}(this.x),function(a,b){"use strict";a.methods.init=function(){a.core.parse()},document.addEventListener("DOMContentLoaded",a.methods.init,!1)}(this.x,this);
//# sourceMappingURL=x.min.map